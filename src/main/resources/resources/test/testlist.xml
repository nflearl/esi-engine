<?xml version="1.0" encoding="UTF-8"?>
<testlist>

    <test name="Variable Equals">
        <request>
            <header name="XXX-Scratch:esi/assign/pagetype">
                <literal type="string">videos</literal>
            </header>
            <identifier>active:ESIExpressionRuntime</identifier>
            <argument name="expression">$(pagetype)=='videos'</argument>
        </request>
        <assert>
            <true/>
        </assert>
    </test>

    <test name="ID Existences Check">
        <request>
            <header name="XXX-Scratch:esi/assign/id">
                <literal type="string">1234</literal>
            </header>
            <identifier>active:ESIExpressionRuntime</identifier>
            <argument name="expression">$exists($(id))</argument>
        </request>
        <assert>
            <true/>
        </assert>
    </test>

    <test name="Compound Comparison First Or">
        <request>
            <header name="XXX-Scratch:esi/assign/id">
                <literal type="string">5678</literal>
            </header>
            <header name="XXX-Scratch:esi/assign/pagetype">
                <literal type="string">roster</literal>
            </header>
            <identifier>active:ESIExpressionRuntime</identifier>
            <argument name="expression">$exists($(id)) &amp;&amp;
                (($(pagetype) == 'roster') || ($(pagetype) == 'cheerleaders') ||
                ($(pagetype) == 'coaches') || ($(pagetype) == 'staff'))
            </argument>
        </request>
        <assert>
            <true/>
        </assert>
    </test>

    <test name="Compound Comparison Second Or">
        <request>
            <header name="no-cache">
                <literal type="boolean">true</literal>
            </header>
            <header name="XXX-Scratch:esi/assign/id">
                <literal type="string">5678</literal>
            </header>
            <header name="XXX-Scratch:esi/assign/pagetype">
                <literal type="string">cheerleaders</literal>
            </header>
            <identifier>active:ESIExpressionRuntime</identifier>
            <argument name="expression">$exists($(id)) &amp;&amp;
                (($(pagetype) == 'roster') || ($(pagetype) == 'cheerleaders') ||
                ($(pagetype) == 'coaches') || ($(pagetype) == 'staff'))
            </argument>
        </request>
        <assert>
            <true/>
        </assert>
    </test>

    <test name="Compound Comparison Third Or">
        <request>
            <header name="no-cache">
                <literal type="boolean">true</literal>
            </header>
            <header name="XXX-Scratch:esi/assign/id">
                <literal type="string">5678</literal>
            </header>
            <header name="XXX-Scratch:esi/assign/pagetype">
                <literal type="string">coaches</literal>
            </header>
            <identifier>active:ESIExpressionRuntime</identifier>
            <argument name="expression">$exists($(id)) &amp;&amp;
                (($(pagetype) == 'roster') || ($(pagetype) == 'cheerleaders') ||
                ($(pagetype) == 'coaches') || ($(pagetype) == 'staff'))
            </argument>
        </request>
        <assert>
            <true/>
        </assert>
    </test>

    <test name="Compound Comparison Fourth Or">
        <request>
            <header name="no-cache">
                <literal type="boolean">true</literal>
            </header>
            <header name="XXX-Scratch:esi/assign/id">
                <literal type="string">5678</literal>
            </header>
            <header name="XXX-Scratch:esi/assign/pagetype">
                <literal type="string">staff</literal>
            </header>
            <identifier>active:ESIExpressionRuntime</identifier>
            <argument name="expression">$exists($(id)) &amp;&amp;
                (($(pagetype) == 'roster') || ($(pagetype) == 'cheerleaders') ||
                ($(pagetype) == 'coaches') || ($(pagetype) == 'staff'))
            </argument>
        </request>
        <assert>
            <true/>
        </assert>
    </test>

    <test name="Channel Name Existence">
        <request>
            <header name="XXX-Scratch:esi/assign/QUERY_STRING/channelName">
                <literal type="string">some channel</literal>
            </header>
            <identifier>active:ESIExpressionRuntime</identifier>
            <argument name="expression">$exists($(QUERY_STRING{'channelName'}))</argument>
        </request>
        <assert>
            <true/>
        </assert>
    </test>

    <test name="Channel Fragment Existence">
        <request>
            <header name="XXX-Scratch:esi/assign/channelFragment">
                <literal type="string">some fragment</literal>
            </header>
            <identifier>active:ESIExpressionRuntime</identifier>
            <argument name="expression">$exists(channelFragment) &amp;&amp; !$is_empty(channelFragment)</argument>
        </request>
        <assert>
            <false/>
        </assert>
    </test>

    <test name="Variable Equals">
        <request>
            <header name="XXX-Scratch:esi/assign/seoTitle">
                <literal type="string">channel</literal>
            </header>
            <identifier>active:ESIExpressionRuntime</identifier>
            <argument name="expression">$exists(seoTitle) &amp;&amp; $(seoTitle)=='channel'</argument>
        </request>
        <assert>
            <false/>
        </assert>
    </test>

    <test name="SEO Title">
        <request>
            <header name="XXX-Scratch:esi/assign/seoTitle">
                <literal type="string">channel</literal>
            </header>
            <identifier>active:ESIExpressionRuntime</identifier>
            <argument name="expression">($(seoTitle) == 'channel')</argument>
        </request>
        <assert>
            <true/>
        </assert>
    </test>
</testlist>